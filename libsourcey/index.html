<!doctype html> <html class=no-js lang=en> <head> <title>LibSourcey | Sourcey</title> <meta charset=utf-8 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="/stylesheets/app.css" media=screen rel=stylesheet /> <script src="/javascripts/all.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');
    </script> </head> <body class="page libsourcey libsourcey_index"> <nav class=top-bar data-topbar=""> <div class=top-bar-inner> <div id=social> <a href="https://github.com/sourcey"><i class=fi-social-github></i></a> <a href="https://twitter.com/sourceydevel"><i class=fi-social-twitter></i></a> <a href="https://plus.google.com/+SourceyDevel"><i class=fi-social-google-plus></i></a> <a href="https://facebook.com/sourceydevel"><i class=fi-social-facebook></i></a> </div> <ul class=title-area> <li class=name></li> <li class="toggle-topbar menu-icon"><a href="#" class=left></a></li> </ul> <section class=top-bar-section style="left: 0%;"> <ul class=left> <li class=home><a href="/">Home</a></li> <li class=has-dropdown><a href="/#projects">Projects</a> <ul class=dropdown><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li> <li> <a href="/libsourcey"><b>LibSourcey</b><small>C++ networking evolved</small></a> </li> <li> <a href="/anionu"><b>Anionu</b><small>Cloud video surveillance</small></a> </li> <li> <a href="//stompstart.com"><b>StompStart</b><small>Promote your startup</small></a> </li> <li> <a href="/symple"><b>Symple</b><small>Messaging made Symple</small></a> </li> <li> <a href="/mesh"><b>Mesh</b><small>Elegant, modern design</small></a> </li> <li> <a href="/pacm"><b>Pacm</b><small>Redistributable package manager</small></a> </li> <li> <a href="/pluga"><b>Pluga</b><small>C++ plugin system</small></a> </li> <li> <a href="//avidsense.com"><b>Avid Sense</b><small>Freedom of expression</small></a> </li> <li> <a href="/recliner"><b>Recliner.js</b><small>Flexible lazy loading</small></a> </li> </ul> </li> <li class=has-dropdown><a href="/#articles">Articles</a> <ul class=dropdown> <li><a href="/archives">Archives</a></li> <li><a href="/feed.xml">Feed</a></li> </ul> </li> <li><a href="mailto:hello@sourcey.com">Contact</a></li> <li class=divider></li> </ul> </section> </div> </nav> <header id=header> <h1 id=logo> <a title=Sourcey rel=home href="//sourcey.com"><img height=150 width=150 title=Sourcey alt=Sourcey src="/images/logos/sourcey-glow-250x250.png"/></a> </h1> </header> <div id=main role=main> <article> <header class=article-header> <h1>LibSourcey</h1> </header> <div class="article-wrap row"> <div class="large-9 columns"> <div class=content> <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <dl class=status> <dt>Repository</dt> <dd><a href="https://github.com/sourcey/libsourcey">https://github.com/sourcey/libsourcey</a></dd> <dt>Licence</dt> <dd>LGPL, <a href=licence>Pro Licence</a> </dd> <dt>Required Dependencies</dt> <dd>libuv, CMake, C++11 compiler</dd> <dt>Optional Dependencies</dt> <dd>FFmpeg (&gt;= 2.8.3), OpenCV (&gt;= 3.0), WebRTC, OpenSSL (&gt; 1.0.1g), RtAudio, JsonCpp</dd> </dl> <p><img alt="LibSourcey Logo" title="LibSourcey Logo" class=align-left src="/images/logos/libsourcey-120x120.png"> LibSourcey is a collection of open source cross platform C++11 modules and classes which provide developers with a flexible high performance arsenal for the rapid development of real-time messaging and live media streaming applications.</p> <p>LibSourcey was been used in private production by Sourcey since 2005, and was open sourced in 2013 under the LGPL licence to promote development of real-time native and web applications.</p> <p>Since version 0.92, C++11 and event-based asynchronous IO powered by Node.js’s underlying libuv library are utilised throughout LibSourcey in to maximise performance and minimise concurrency reliance for building mission critical server-side applications.</p> <p>LibSourcey provides a simple and flexible method of capturing live audio/video streams (<em>OpenCV/FFmpeg</em>), processing, filtering and encoding them using any video format (<em>FFmpeg</em>), and broadcasting the result over the Internet (<em>libuv</em>). This is made possible by implementing a thin layer over the top of some brilliant open source projects, such as FFmpeg, OpenCV and libuv. The only required third-party dependency is libuv, and that is included in the local source and compiled automatically. All others dependencies are optional.</p> <p>LibSourcey has full support for the following protocols: <strong>TCP</strong>, <strong>SSL</strong>, <strong>UDP</strong>, <strong>HTTP</strong>, <strong>JSON</strong>, <strong>XML</strong>, <strong>STUN</strong>, <strong>SDP</strong>, <strong>SocketIO</strong>. Partial or non-standard support is implemented for the following protocols: <strong>WebSockets</strong>, <strong>TURN</strong>, <strong>ICE</strong>, <strong>RTP</strong>, and <strong>XMPP</strong>.</p> <p class=center><a class="action-button button radius" href="#installation">Install LibSourcey</a></p> <h2 id=installation>Installation</h2> <h3 id=linux>Linux</h3> <p>This guide has been written for Ubuntu 14.04, but should be easily protable for most flavours of Linux.</p> <p>First install the necessary dependencies:</p> <pre class="highlight shell"><code>sudo apt-get update

<span class="c"># required dependencies</span>
apt-get install -y build-essential pkg-config git openssl libssl-dev cmake libjack-jackd2-dev

<span class="c"># optional dependencies</span>
apt-get install -y opencv-dev
</code></pre> <p><em>Note</em>: To compile LibSourcey with video and streaming capabilities enabled you should install the latest versions of both FFmpeg and OpenCV.</p> <p>If you don’t have FFmpeg development headers installed, then you can use the official FFmpeg installation guide which works out of the box with LibSourcey: http://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu</p> <p>Now checkout and compile the source:</p> <pre class="highlight shell"><code><span class="nb">cd</span> ~/tmp
git clone https://github.com/sourcey/libsourcey.git
<span class="nb">cd </span>libsourcey
mkdir -p build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
cmake .. -DCMAKE_BUILD_TYPE<span class="o">=</span>RELEASE <span class="c"># extra cmake commands here...</span>
make
sudo make install
</code></pre> <p>Simple! For a complete list of build options <a href="#cmake-build-options">see here</a>.</p> <h3 id=windows>Windows</h3> <h4 id=install-dependencies>Install Dependencies</h4> <dl> <dt>Install Git</dt> <dd>Install <a href="//code.google.com/p/tortoisegit/">TortoiseGit</a>, a convenient git front-end that integrates right into Windows Explorer. MinGW users can use <a href="from%20&amp;lt;a%20class=&amp;quot;external&amp;quot;%20href=&amp;quot;http://code.google.com/p/msysgit/downloads/list&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;">msysgit</a>.</dd> <dt>Install CMake</dt> <dd>CMake generates the LibSourcey project files so you can build on most platforms and compilers. <a href="//www.cmake.org/cmake/resources/software.html">Download CMake</a> </dd> <dt>Install OpenSSL</dt> <dd>Download and install the <a href="//slproweb.com/products/Win32OpenSSL.html">Windows OpenSSL binaries</a>.</dd> <dt>Download LibSourcey</dt> <dd>Clone the repository: <code>git clone https://github.com/sourcey/libsourcey.git</code>.<br> If you haven’t got Git for some reason you can download and extract the <a href="https://github.com/sourcey/libsourcey">package archive</a> from Github.</dd> </dl> <h4 id=generate-project-files>Generate Project Files</h4> <p>Open the CMake GUI and set the project directory to point to the LibSourcey root directory. Execute “Configure” to do the initial configuration, then adjust any options, then press “Configure” again and then press “Generate”.</p> <h4 id=compile-with-visual-studio>Compile With Visual Studio</h4> <ol> <li>Generate solutions using CMake, as described above. Make sure, you chose the proper generator (32-bit or 64-bit)</li> <li>Launch Visual Studio, locate and open the “libsourcey.sln” solution file in your generated build folder (eg: <code>C:\LibSourcey\build\libsourcey.sln</code>). Select “Debug” configuration, build the solution (Ctrl-Shift-B), and/or select “Release” and build it.</li> <li>Add <code>{CMAKE_BINARY_DIR}\bin\Release</code>, <code>{CMAKE_BINARY_DIR}\bin\Debug</code> (containing “libscy<em>.dll” and “libscy</em>d.dll”, respectively) to the system path (My Computer–[Right button click]-&gt;Properties-&gt;Advanced-&gt;Environment Variables-&gt;Path)</li> </ol> <h3 id=apple-macos>Apple (MacOS)</h3> <dl> <dt>Install Git</dt> <dd>Download the <a href="//code.google.com/p/git-osx-installer/downloads/list?can=3">latest Git installer package</a>, double click on the installer to start the installation wizard. You’ll be prompted for your system password in order for the installer to complete.</dd> <dt>Install CMake</dt> <dd>CMake generates the LibSourcey project files so you can build on most platforms and compilers. <a href="//www.cmake.org/cmake/resources/software.html">Download CMake</a> </dd> <dt>Install OpenSSL</dt> <dd>If you don’t already have OpenSSL development headers on your Mac, then please follow <a href="//www.opensource.apple.com/source/OpenSSL/OpenSSL-7.1/openssl/INSTALL?txt">this guide</a> to install them.</dd> <dt>Download LibSourcey</dt> <dd>Clone the repository: <code>git clone https://github.com/sourcey/libsourcey.git</code>.<br> If you haven’t got Git for some reason you can download and extract the <a href="https://github.com/sourcey/libsourcey">package archive</a> from Github.</dd> </dl> <h4 id=generate-project-files-1>Generate Project Files</h4> <p>Open the CMake GUI and set the project directory to point to the LibSourcey root directory. Execute “Configure” to do the initial configuration, then adjust any options, then press “Configure” again and then press “Generate”.</p> <h4 id=compile-with-xcode>Compile with Xcode</h4> <ul> <li>Generate Xcode project using CMake, as described above.</li> <li>Launch Xcode, locate and open libsourcey.xcodeproj. Select “Debug”, build the BUILD_ALL target (Cmd-B), select “Release” and build it too.</li> </ul> <h3 id=cmake-build-options>CMake Build Options</h3> <p>The main build options you will want to configure are as follows:</p> <ul> <li> <code>BUILD_SHARED_LIBS</code>: Build shared libraries (.dll/.so) instead of static ones (.lib/.a). <em>default: NOT (WIN32 OR ANDROID OR IOS)</em> </li> <li> <code>BUILD_DEPENDENCIES</code>: Build LibSourcey in source third-party dependencies. <em>default: ON</em> </li> <li> <code>BUILD_MODULES</code>: Build LibSourcey modules. <em>default: ON</em> </li> <li> <code>BUILD_MODULE_xxx</code>: Enable or disable a specific module replacing <em>xxx</em> with the module name.</li> <li> <code>BUILD_APPLICATIONS</code>: Build LibSourcey modules <em>default: ON</em> </li> <li> <code>BUILD_APPLICATION_xxx</code>: Enable or disable a specific applications replacing <em>xxx</em> with the module name.</li> <li> <code>BUILD_MODULE_TESTS</code>: Build module test applications <em>default: ON</em> </li> <li> <code>BUILD_MODULES_xxx</code>: Enable or disable a specific module replacing xxx with the module name.</li> <li> <code>BUILD_MODULE_SAMPLES</code>: Build module sample applications <em>default: ON</em> </li> </ul> <p>If you are using third-party libraries is custom locations then make sure you update the CMake include paths: <code>CMAKE_SYSTEM_PREFIX_PATH</code> and <code>CMAKE_LIBRARY_PATH</code>. The only third-party libraries that may need configuring if you’re using them are FFmpeg, OpenCV and WebRTC.</p> <p>For an exhaustive list of options check the <code>CMakeLists.txt</code> in the main directory.</p> <h2 id=examples>Examples</h2> <p>There is also plenty of examples available in the <code>samples</code> and <code>tests</code> folder of each module for you to cut your teeth on.</p> <p>If you’re looking for media streaming examples check out the <code>mediaserver</code> sample in the <code>symple</code> module. Remember, you will need to compiled LibSourcey with OpenCV and FFmpeg enabled to use it: https://github.com/sourcey/libsourcey/tree/master/src/symple/samples/mediaserver</p> <p>For an example of the LibSourcey way of doing things, check out this article about the PacketSteram API: http://sourcey.com/libsourcey-packetstream-api/</p> <p>For a redistributable C++ package manager, take a look at <code>pacm</code> here: http://sourcey.com/pacm/</p> <p>Also, check out <code>pluga</code>, a simple C++ plugin API using LibSourcey: http://sourcey.com/pluga/</p> <h2 id=public-modules>Public Modules</h2> <p>The following modules are included in the public LibSourcey repository:</p> <h3 id=base>Base</h3> <p><em>dependencies:</em> libuv<br> Re-usable utility classes and interfaces used throughout LibSourcey.</p> <h3 id=net>Net</h3> <p><em>dependencies:</em> libuv, OpenSSL<br> TCP, SSL and UDL socket implementation build on top of libuv architecture.</p> <h3 id=http>HTTP</h3> <p><em>dependencies:</em> libuv, JsonCpp<br> HTTP server and client stack including support for WebSockets, multipart streaming, and file transfers.</p> <h3 id=media>Media</h3> <p><em>dependencies:</em> libuv, OpenCV, FFmpeg, RtAudio<br> Wrappers around FFmpeg and OpenCV for device capture, encoding, recording and streaming. The Media API makes extensive use of the PacketStream classes so that encoders, processors and packetisers can be dynamically added and removed from a media source.</p> <h3 id=stun>STUN</h3> <p><a href="//tools.ietf.org/rfc/rfc5389">RFC 5389</a> implementation which includes support for ICE and TURN and TURN TCP messages.</p> <h3 id=turn>TURN</h3> <p><em>dependencies:</em> libuv<br> Server and client stack which supports both <a href="//tools.ietf.org/rfc/rfc5766">RFC 5766 (Traversal Using Relays around NAT)</a> and <a href="//tools.ietf.org/rfc/rfc6062">RFC 6062 (Traversal Using Relays around NAT Extensions for TCP Allocations)</a> specifications.</p> <h3 id=sdp>SDP</h3> <p><a href="//tools.ietf.org/rfc/rfc4566">RFC 4566</a> implementation which includes extra support for ICE headers.</p> <h3 id=socketio>SocketIO</h3> <p><em>dependencies:</em> libuv, JsonCpp<br> SocketIO C++ client. Read more about <a href="//socket.io">SocketIO</a>.</p> <h3 id=symple>Symple</h3> <p><em>dependencies:</em> libuv, JsonCpp<br> Client implementation of Sourcey’s home grown real time messaging and presence protocol. <a href="&amp;lt;http://sourcey.com/symple">More about Symple</a>.</p> <h3 id=uvpp>UVPP</h3> <p><em>dependencies:</em> libuv<br> UVPP is a set of C++ wrappers for Joyent’s fantastic libuv library.</p> <h3 id=json>JSON</h3> <p><em>dependencies:</em> JsonCpp<br> Thin wrappers and helper functions for the JsonCpp library.</p> <h2 id=external-modules>External Modules</h2> <p>The following LibSourcey modules are available in external repositories.</p> <h3 id=pacm>Pacm</h3> <p><em>dependencies:</em> libuv, JsonCpp<br> Pacm is an embeddable package manager which speaks JSON with the server. <a href="//sourcey.com/pacm">More about Pacm</a>.</p> <h3 id=paca>Paca</h3> <p><em>dependencies:</em> libuv<br> Paca is simple cross platform C++ plugin system. <a href="//sourcey.com/paca">More about Paca</a>.</p> <h3 id=anionu-sdk>Anionu SDK</h3> <p><em>dependencies:</em> libuv, OpevCV The Anionu SDK includes a C++ API, tools, and client implementation for building <a href="//anionu.com/spot">Spot</a> plugins and applications that integrate with the <a href="https://anionu.com">Anionu cloud surveillance serivice</a>.</p> <h2 id=private-modules>Private Modules</h2> <p>The following closed source modules are available. Please contact us if you are interested in using any of them in your projects.</p> <h3 id=ice>ICE</h3> <p><em>dependencies:</em> libuv<br> The ICE module is a complete implementation of <a href="//tools.ietf.org/html/rfc5245">RFC 5245 (Interactive Connectivity Establishment)</a> based on LibSourcey architecture. ICE is a protocol for Network Address Translator (NAT) Traversal for Offer/Answer protocols. This module is currently not open source. Please contact us if you are interested in using it.</p> <h3 id=rtp>RTP</h3> <p><em>dependencies:</em> libuv<br> Our RTP module is quite basic. At this point it only supports RTP and RTCP packetisation. RTCP session management still needs to implemented. If anyone happens to make a project of this we would be very happy to improve our RTP module.</p> <h3 id=xml>XML</h3> <p><em>dependencies:</em> pugixml<br> Very thin wrappers around the pugixml XML library to better support LibSourcey architecture.</p> <h3 id=xmpp>XMPP</h3> <p><em>dependencies:</em> pugixml, libstrophe<br> Our XMPP module includes a client with full Jingle session support. This module has been neglected for a while now in favor of other projects. Any bugfixes and improvements are welcome.</p> <h2 id=contributing>Contributing</h2> <ol> <li><a href="https://github.com/sourcey/libsourcey">Fork LibSourcey on Github</a></li> <li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li> <li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li> <li>Push to the branch (<code>git push origin my-new-feature</code>)</li> <li>Create new Pull Request</li> </ol> <h2 id=issues>Issues</h2> <p>If you find any bugs or issues please use the <a href="https://github.com/sourcey/libsourcey/issues">Github issue tracker</a>.</p> </body></html> </div> </div> <div class="large-3 columns"> <div class="sidebar sidebar-float"> <div class="sidebar-section toc"> <h4 class=no_toc id=contents>Contents</h4> <ul id=markdown-toc> <li> <a id=markdown-toc-installation href="#installation">Installation</a> <ul> <li><a id=markdown-toc-linux href="#linux">Linux</a></li> <li> <a id=markdown-toc-windows href="#windows">Windows</a> <ul> <li><a id=markdown-toc-install-dependencies href="#install-dependencies">Install Dependencies</a></li> <li><a id=markdown-toc-generate-project-files href="#generate-project-files">Generate Project Files</a></li> <li><a id=markdown-toc-compile-with-visual-studio href="#compile-with-visual-studio">Compile With Visual Studio</a></li> </ul> </li> <li> <a id=markdown-toc-apple-macos href="#apple-macos">Apple (MacOS)</a> <ul> <li><a id=markdown-toc-generate-project-files-1 href="#generate-project-files-1">Generate Project Files</a></li> <li><a id=markdown-toc-compile-with-xcode href="#compile-with-xcode">Compile with Xcode</a></li> </ul> </li> <li><a id=markdown-toc-cmake-build-options href="#cmake-build-options">CMake Build Options</a></li> </ul> </li> <li><a id=markdown-toc-examples href="#examples">Examples</a></li> <li> <a id=markdown-toc-public-modules href="#public-modules">Public Modules</a> <ul> <li><a id=markdown-toc-base href="#base">Base</a></li> <li><a id=markdown-toc-net href="#net">Net</a></li> <li><a id=markdown-toc-http href="#http">HTTP</a></li> <li><a id=markdown-toc-media href="#media">Media</a></li> <li><a id=markdown-toc-stun href="#stun">STUN</a></li> <li><a id=markdown-toc-turn href="#turn">TURN</a></li> <li><a id=markdown-toc-sdp href="#sdp">SDP</a></li> <li><a id=markdown-toc-socketio href="#socketio">SocketIO</a></li> <li><a id=markdown-toc-symple href="#symple">Symple</a></li> <li><a id=markdown-toc-uvpp href="#uvpp">UVPP</a></li> <li><a id=markdown-toc-json href="#json">JSON</a></li> </ul> </li> <li> <a id=markdown-toc-external-modules href="#external-modules">External Modules</a> <ul> <li><a id=markdown-toc-pacm href="#pacm">Pacm</a></li> <li><a id=markdown-toc-paca href="#paca">Paca</a></li> <li><a id=markdown-toc-anionu-sdk href="#anionu-sdk">Anionu SDK</a></li> </ul> </li> <li> <a id=markdown-toc-private-modules href="#private-modules">Private Modules</a> <ul> <li><a id=markdown-toc-ice href="#ice">ICE</a></li> <li><a id=markdown-toc-rtp href="#rtp">RTP</a></li> <li><a id=markdown-toc-xml href="#xml">XML</a></li> <li><a id=markdown-toc-xmpp href="#xmpp">XMPP</a></li> </ul> </li> <li><a id=markdown-toc-contributing href="#contributing">Contributing</a></li> <li><a id=markdown-toc-issues href="#issues">Issues</a></li> </ul> </div> </div> </div> </div> </article> </div> <footer id=footer> <div class="row show-for-large-up"> <div class="ad ad-720x90 text-center"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class=adsbygoogle style="display:inline-block;width:728px;height:90px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=8042301285></ins> <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
          </script> </div> </div> <p> As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on. </p> <p>&copy; 2016 Sourcey<p> </footer> </body> </html>