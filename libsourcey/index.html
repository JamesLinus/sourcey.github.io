<!DOCTYPE HTML> <html lang=""> <head> <meta charset=UTF-8> <meta content="text/html; charset=utf-8" http-equiv=Content-Type> <title>Introduction Â· LibSourcey</title> <meta http-equiv=X-UA-Compatible content="IE=edge"/> <meta name=description content=""> <meta name=generator content="GitBook 3.2.2"> <link rel=stylesheet href="/libsourcey/gitbook/style.css"> <link rel=stylesheet href="/libsourcey/gitbook/gitbook-plugin-highlight/website.css"> <link rel=stylesheet href="/libsourcey/gitbook/gitbook-plugin-search/search.css"> <link rel=stylesheet href="/libsourcey/gitbook/gitbook-plugin-fontsettings/website.css"> <link rel=stylesheet href="/libsourcey/styles/website.css"> <meta name=HandheldFriendly content=true /> <meta name=viewport content="width=device-width, initial-scale=1, user-scalable=no"> <meta name=apple-mobile-web-app-capable content=yes> <meta name=apple-mobile-web-app-status-bar-style content=black> <link rel=apple-touch-icon-precomposed sizes=152x152 href="/libsourcey/gitbook/images/apple-touch-icon-precomposed-152.png"> <link rel="shortcut icon" href="/libsourcey/gitbook/images/favicon.ico" type="image/x-icon"> <link rel=next href="/libsourcey/getting-started/"/> </head> <body> <div class=book> <div class=book-summary> <div id=book-search-input role=search> <input placeholder="Type to search"/> </div> <nav role=navigation> <ul class=summary> <li class="chapter active" data-level="1.1" data-path="/libsourcey/"> <a href="/libsourcey/"> Introduction </a> </li> <li class="chapter " data-level="1.2" data-path="/libsourcey/getting-started/"> <a href="/libsourcey/getting-started/"> Getting Started </a> </li> <li class="chapter " data-level="1.3" data-path="/libsourcey/installation/"> <a href="/libsourcey/installation/"> Installation </a> <ul class=articles> <li class="chapter " data-level="1.3.1" data-path="/libsourcey/installation-linux/"> <a href="/libsourcey/installation-linux/"> Linux Guide </a> </li> <li class="chapter " data-level="1.3.2" data-path="/libsourcey/installation-osx/"> <a href="/libsourcey/installation-osx/"> OS X Guide </a> </li> <li class="chapter " data-level="1.3.3" data-path="/libsourcey/installation-windows/"> <a href="/libsourcey/installation-windows/"> Windows Guide </a> </li> </ul> </li> <li class="chapter " data-level="1.4" data-path="/libsourcey/examples/"> <a href="/libsourcey/examples/"> Examples </a> </li> <li class=divider></li> <li class="chapter " data-level="2.1" data-path="/libsourcey/api-archo/"> <a href="/libsourcey/api-archo/"> Archo </a> </li> <li class="chapter " data-level="2.2" data-path="/libsourcey/api-av/"> <a href="/libsourcey/api-av/"> AV </a> </li> <li class="chapter " data-level="2.3" data-path="/libsourcey/api-base/"> <a href="/libsourcey/api-base/"> Base </a> </li> <li class="chapter " data-level="2.4" data-path="/libsourcey/api-crypto/"> <a href="/libsourcey/api-crypto/"> Crypto </a> </li> <li class="chapter " data-level="2.5" data-path="/libsourcey/api-http/"> <a href="/libsourcey/api-http/"> HTTP </a> </li> <li class="chapter " data-level="2.6" data-path="/libsourcey/api-json/"> <a href="/libsourcey/api-json/"> JSON </a> </li> <li class="chapter " data-level="2.7" data-path="/libsourcey/api-net/"> <a href="/libsourcey/api-net/"> Net </a> </li> <li class="chapter " data-level="2.8" data-path="/libsourcey/api-pacm/"> <a href="/libsourcey/api-pacm/"> Pacm </a> </li> <li class="chapter " data-level="2.9" data-path="/libsourcey/api-pluga/"> <a href="/libsourcey/api-pluga/"> Pluga </a> </li> <li class="chapter " data-level="2.10" data-path="/libsourcey/api-sked/"> <a href="/libsourcey/api-sked/"> Sked </a> </li> <li class="chapter " data-level="2.11" data-path="/libsourcey/api-socketio/"> <a href="/libsourcey/api-socketio/"> SocketIO </a> </li> <li class="chapter " data-level="2.12" data-path="/libsourcey/api-stun/"> <a href="/libsourcey/api-stun/"> STUN </a> </li> <li class="chapter " data-level="2.13" data-path="/libsourcey/api-symple/"> <a href="/libsourcey/api-symple/"> Symple </a> </li> <li class="chapter " data-level="2.14" data-path="/libsourcey/api-turn/"> <a href="/libsourcey/api-turn/"> TURN </a> </li> <li class="chapter " data-level="2.15" data-path="/libsourcey/api-util/"> <a href="/libsourcey/api-util/"> Util </a> </li> <li class="chapter " data-level="2.16" data-path="/libsourcey/api-uv/"> <a href="/libsourcey/api-uv/"> UV </a> </li> <li class="chapter " data-level="2.17" data-path="/libsourcey/api-webrtc/"> <a href="/libsourcey/api-webrtc/"> WebRTC </a> </li> <li class=divider></li> <li class="chapter " data-level="3.1" data-path="/libsourcey/LICENSE/"> <a href="/libsourcey/LICENSE/"> License </a> </li> <li class=divider></li> <li> <a href="https://www.gitbook.com" target=blank class=gitbook-link> Published with GitBook </a> </li> </ul> </nav> </div> <div class=book-body> <div class=body-inner> <div class=book-header role=navigation> <h1> <i class="fa fa-circle-o-notch fa-spin"></i> <a href=".">Introduction</a> </h1> </div> <div class=page-wrapper tabindex=-1 role=main> <div class=page-inner> <div id=book-search-results> <div class=search-noresults> <section class="normal markdown-section"> <h1 id=libsourcey>LibSourcey</h1> <blockquote> <p>C++ Networking Evolved</p> </blockquote> <p><a href="https://circleci.com/gh/sourcey/libsourcey" target=_blank><img src="https://circleci.com/gh/sourcey/libsourcey.svg?style=shield&amp;circle-token=ab142562b19bb857de796d729aab28fa9df7682d" alt="Circle CI"></a> <a href="http://sourcey.com/libsourcey" target=_blank><img src="http://sourcey.com/images/doxygen.svg" alt=Doxygen></a></p> <p>LibSourcey is a collection of cross platform C++11 modules and classes that provide developers with an arsenal for rapidly developing high performance network based p2p and media streaming applications. Think of it as the power of <code>libuv</code> combined with the features of <code>FFmpeg</code>, <code>OpenCV</code> and <code>WebRTC</code>, all integrated with the ease and readability of the <code>stl</code> (C++ Standard Library).</p> <ul> <li><strong>Documentation</strong>: <a href="http://sourcey.com/libsourcey" target=_blank>http://sourcey.com/libsourcey</a> </li> <li><strong>Repository</strong>: <a rel="nofollow" href="https://github.com/sourcey/libsourcey" target=_blank>https://github.com/sourcey/libsourcey</a> </li> <li><strong>Licence</strong>: <a href="/libsourcey/LICENSE/">LGPL-2.1+</a></li> </ul> <h2 id=features>Features</h2> <ul> <li><p><strong>Event-based IO</strong> &#x2014; Core modules are built on top of <code>libuv</code> (the underlying C library that powers Node.js) and use event-based asynchronous IO throughout to maximise performance and minimise concurrency reliance for building mission critical native and server side apps.</p> </li> <li><p><strong>Cross platform</strong> &#x2014; The codebase is cross platform and should compile on any system with access to a modern C++11 compiler.</p> </li> <li><p><strong>Modular libraries</strong> &#x2014; Libraries are modular for easy integration into your existing projects, so you can just &quot;include what you need&quot; without incurring extra incumbent bloat.</p> </li> <li><p><strong>Clean and readable code</strong> &#x2014; Modern C++ design principles have been adhered to throughout for clear and readable code.</p> </li> <li><p><strong>Networking layer</strong> &#x2014; A solid network layer is absolutely essential. The networking layer contains TCP, SSL and UDP socket implementations that combine <code>libuv</code> under the hood for blazing fast networking, and <code>openssl</code> for security and encryption.</p> </li> <li><p><strong>Media streaming and encoding</strong> &#x2014; The <code>av</code> library consists of thin wrappers around <code>FFmpeg</code> and <code>OpenCV</code> for media capture, encoding, recording, streaming, analysis and more.</p> </li> <li><p><strong>Web servers and clients</strong> &#x2014; A HTTP stack is provided that includes servers, clients, WebSockets, media streaming, file transfers, and authentication. The HTTP parser is based on the super-fast C code used by <code>nginx</code>.</p> </li> <li><p><strong>Realtime messaging</strong> &#x2014; LibSourcey aims to bridge the gap between desktop, mobile and web by providing performance oriented messaging solutions that work across all platforms.</p> <ul> <li><strong>Socket.IO</strong> &#x2014; Socket.IO C++ client that supports the latest protocol revision 4 (&gt;= 1.0). Read more about <a href="http://socket.io" target=_blank>Socket.IO</a>.</li> <li><strong>Symple</strong> &#x2014; Sourcey&apos;s home grown realtime messaging protocol that works over the top of Socket.IO to provide rostering, presence and many other features necessary for building online games and chat applications. <a href="http://sourcey.com/symple" target=_blank>More about Symple</a>.</li> </ul> </li> <li><p><strong>WebRTC support</strong> &#x2014; WebRTC native support allows you to build p2p desktop and server side applications that inherit LibSourcey&apos;s realtime messaging and media capabilities. Take a look at the <a href="/libsourcey/examples/">examples</a> for how to stream live webcam and microphone streams to the browser, and also how to record live WebRTC streams on the server side.</p> </li> <li><p><strong>Full ICE stack</strong> &#x2014; The ICE module is a complete implementation of <a href="http://tools.ietf.org/html/rfc5245" target=_blank>RFC 5245 (Interactive Connectivity Establishment)</a> based on LibSourcey architecture.</p> <ul> <li><strong>ICE</strong> &#x2014; <a href="http://tools.ietf.org/rfc/rfc5245" target=_blank>RFC 5245</a> ICE agent implementation.</li> <li><strong>STUN</strong> &#x2014; <a href="http://tools.ietf.org/rfc/rfc5389" target=_blank>RFC 5389</a> implementation that includes support for ICE and TURN and TURN TCP messages.</li> <li><strong>TURN</strong> &#x2014; Server and client stack that supports both <a href="http://tools.ietf.org/rfc/rfc5766" target=_blank>RFC 5766 (Traversal Using Relays around NAT)</a> and <a href="http://tools.ietf.org/rfc/rfc6062" target=_blank>RFC 6062 (Traversal Using Relays around NAT Extensions for TCP Allocations)</a> specifications.</li> <li><strong>SDP</strong> &#x2014; <a href="http://tools.ietf.org/rfc/rfc4566" target=_blank>RFC 4566</a> implementation that includes extra support for ICE headers.</li> </ul> </li> </ul> <h2 id=example>Example</h2> <p>A good starting point is the <code>PacketStream</code>, which lets you create a dynamic delegate chain for piping, processing and outputting arbitrary data packets. This method of layering packet processors and dynamic functionality makes it possible to develop complex data processing applications quickly and easily.</p> <p>For example, this is how you would capture a live webcam stream, encode it into H.264, and broadcast it in realtime over the internet:</p> <pre><code class="lang-cpp"><span class="hljs-comment">// Create a PacketStream to pass packets from the</span>
<span class="hljs-comment">// input device captures =&gt; encoder =&gt; socket</span>
PacketStream stream;

<span class="hljs-comment">// Setup the encoder options</span>
av::EncoderOptions options;
options.oformat = av::Format(<span class="hljs-string">&quot;MP4&quot;</span>, <span class="hljs-string">&quot;mp4&quot;</span>,
    av::VideoCodec(<span class="hljs-string">&quot;H.264&quot;</span>, <span class="hljs-string">&quot;libx264&quot;</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>, <span class="hljs-number">25</span>, <span class="hljs-number">48000</span>, <span class="hljs-number">128000</span>, <span class="hljs-string">&quot;yuv420p&quot;</span>),
    av::AudioCodec(<span class="hljs-string">&quot;AAC&quot;</span>, <span class="hljs-string">&quot;libfdk_aac&quot;</span>, <span class="hljs-number">2</span>, <span class="hljs-number">44100</span>, <span class="hljs-number">64000</span>, <span class="hljs-string">&quot;s16&quot;</span>));

<span class="hljs-comment">// Create a device manager instance to enumerate system devices</span>
av::DeviceManager devman;
av::Device device;

<span class="hljs-comment">// Create and attach the default video capture</span>
av::VideoCapture::Ptr video;
<span class="hljs-keyword">if</span> (devman.getDefaultCamera(device)) {
    video.open(device.id, <span class="hljs-number">640</span>, <span class="hljs-number">480</span>, <span class="hljs-number">30</span>);
    video.getEncoderFormat(options.iformat);
    stream.attachSource(video, <span class="hljs-literal">true</span>);
}

<span class="hljs-comment">// Create and attach the default audio capture</span>
av::AudioCapture::Ptr audio;
<span class="hljs-keyword">if</span> (devman.getDefaultMicrophone(device)) {
    audio.open(device.id, <span class="hljs-number">2</span>, <span class="hljs-number">44100</span>);
    audio.getEncoderFormat(options.iformat);
    stream.attachSource(audio, <span class="hljs-literal">true</span>);
}

<span class="hljs-comment">// Create and attach the multiplex encoder</span>
av::MultiplexPacketEncoder::<span class="hljs-function">Ptr <span class="hljs-title">encoder</span><span class="hljs-params">(options)</span></span>;
stream.attach(encoder);

<span class="hljs-comment">// Attach the output net::Socket instance (instantiated elsewhere)</span>
<span class="hljs-comment">// to broadcast encoded packets over the network</span>
stream.attach(socket);

<span class="hljs-comment">// Start the stream</span>
<span class="hljs-comment">// This method call will start the device captures and begin</span>
<span class="hljs-comment">// pumping encoded media into the output socket</span>
stream.start();
</code></pre> <p>There are plenty more demos and sample code to play with over on the <a href="/libsourcey/examples/">examples</a> page.</p> <h2 id=installation>Installation</h2> <p>See the platform independent <a href="/libsourcey/installation/">installation guides</a>.</p> <h2 id=contributors>Contributors</h2> <p>A BIG thanks to everyone who has contributed to the development of LibSourcey so far:</p> <ul> <li>Kam Low (<a rel="nofollow" href="https://github.com/auscaster" target=_blank>@auscaster</a>) &#x2014; Primary developer</li> <li>Yury Shulbn (<a rel="nofollow" href="https://github.com/yuryshubin" target=_blank>@yuryshubin</a>) &#x2014; iOS build toolchain and platform fixes</li> <li>Vinci Xu (<a rel="nofollow" href="https://github.com/VinciShark" target=_blank>@VinciShark</a>) &#x2014; Windows documentation, testing and updates</li> <li>Michael Fig (<a rel="nofollow" href="https://github.com/michael-fig" target=_blank>@michael-fig</a>) &#x2014; Fixed compiler flags to build without FFmpeg</li> <li>Hyunuk Kim (<a rel="nofollow" href="https://github.com/surinkim" target=_blank>@surinkim</a>) &#x2014; Fixed <code>std::codecvt</code> unicode character conversion on Windows</li> <li>Damian Zelim (<a rel="nofollow" href="https://github.com/ZelimDamian" target=_blank>@ZelimDamian</a>) &#x2014; Fixed compiler flags for OS X build</li> </ul> <h2 id=contributing>Contributing</h2> <p>Pull Requests are always welcome, so if you make any improvements please feel free to float them back upstream :)</p> <ol> <li><a rel="nofollow" href="https://github.com/sourcey/libsourcey" target=_blank>Fork LibSourcey on Github</a></li> <li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li> <li>Commit your changes (<code>git commit -am &apos;Add some feature&apos;</code>)</li> <li>Push to the branch (<code>git push origin my-new-feature</code>)</li> <li>Create new Pull Request</li> </ol> </section> </div> <div class=search-results> <div class=has-results> <h1 class=search-results-title><span class=search-results-count></span> results matching "<span class=search-query></span>"</h1> <ul class=search-results-list></ul> </div> <div class=no-results> <h1 class=search-results-title>No results matching "<span class=search-query></span>"</h1> </div> </div> </div> </div> </div> </div> <a href="/libsourcey/getting-started/" class="navigation navigation-next navigation-unique" aria-label="Next page: Getting Started"> <i class="fa fa-angle-right"></i> </a> </div> <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction","level":"1.1","depth":1,"next":{"title":"Getting Started","level":"1.2","depth":1,"path":"getting-started.md","ref":"getting-started.md","articles":[]},"dir":"ltr"},"config":{"plugins":["livereload"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"LibSourcey","gitbook":"3.2.x"},"file":{"path":"README.md","mtime":"2016-11-07T18:40:55.038Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2016-11-08T19:29:00.396Z"},"basePath":".","book":{"language":""}});
        });
    </script> </div> <script src="/libsourcey/gitbook/gitbook.js"></script> <script src="/libsourcey/gitbook/theme.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-livereload/plugin.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-search/search-engine.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-search/search.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-lunr/lunr.min.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-lunr/search-lunr.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-sharing/buttons.js"></script> <script src="/libsourcey/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script> </body> </html>