<!doctype html>
<html class="no-js" lang="en">
  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-site-verification" content="lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw" />
    <title>Dynamically Rendering AJAX Pinterest Buttons</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    
    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlight/monokai.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
    
    <!-- Google Universal Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');

    </script>
  </head>
      
  <body class="blog dynamically-rendering-ajax-pinterest-buttons dynamically-rendering-ajax-pinterest-buttons_index">
      <nav class="top-bar" data-topbar="">
    <div id="social">
      <a href="https://plus.google.com/+SourceyDevel"><i class="fi-social-google-plus large"></i></a>
      <a href="https://facebook.com/sourceydevel"><i class="fi-social-facebook large"></i></a>
      <a href="https://twitter.com/sourceydevel"><i class="fi-social-twitter large"></i></a>
      <a href="https://github.com/sourcey"><i class="fi-social-github large"></i></a>    
    </div>
      
    <ul class="title-area">
      <li class="name"></li>
      <li class="toggle-topbar menu-icon"><a href="" class="left"><!--Menu--></a></li>
    </ul>
    
    <section class="top-bar-section" style="left: 0%;">      
      <ul class="left">
        <li class="has-dropdown not-click"><a href="/">Menu</a>
          <ul class="dropdown"><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li>
            <li><label>Wicked</label></li>
            <li class="has-dropdown not-click"><a href="/#projects">Projects</a>
              <ul class="dropdown"><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li>
                <li><label>Projects</label></li>
                <li><a href="/libsourcey">LibSourcey</a></li>
                <li><a href="/anionu">Anionu</a></li>
                <li><a href="/symple">Symple</a></li>
                <li><a href="/mesh">Mesh</a></li>
                <li><a href="/pacman">Pacman</a></li>
              </ul>
            </li>
            <li class="divider"></li>
            <li><a href="/#blog">Blog</a></li>
            <li><a href="/archives">Archives</a></li>
            <li><a href="/feed.xml">Feed</a></li>
            <li class="divider"></li>
            <li><a href="mailto:hello@sourcey.com">Contact</a></li>
          </ul>
        </li>
        <li class="divider"></li>
      </ul>
    </section></nav>
    
    <header id="header">
      <h1 id="logo">
        <a title="Sourcey" rel="home" href="http://sourcey.com"><img height="150" width="150" title="Sourcey" alt="Sourcey" src="/images/logo-250.png" /></a>
      </h1>
      <!--<h2 class="site-description">Open Source Developer Collective</h2>-->
    </header>    
    <div id="main" role="main">
      <div id="rotate-article">
        
          <a class="next" href="/pinterest-api-pinit-button-callback-tracking/">next article &rarr;</a>
        
        
          <a class="prev" href="/automatic-escaping-of-html-tags-in-code-elements-for-wordpress/">&larr; previous article</a>
        
      </div>
      <h1 id="dynamically-rendering-ajax-pinterest-buttons">Dynamically Rendering AJAX Pinterest Buttons</h1>

<p><a href="http://www.pinterest.com/sourcey/" title="Sourcey on Pinterest" target="_blank">Pinterest</a> is a pretty hot topic in Social Marketing right now. Their APIs and documentation are still quite underdeveloped, so over the course of my next few posts I will offering some up Pinterest hacking tips for developers.</p>

<p>The first is how to render Pinterest buttons loaded dynamically using JavaScript. The Pinterest documentation is pretty scarce, so us developers are left to trawl through the source code for some of the answers - but they are there!</p>

<h3 id="method-one">Method one</h3>

<p>The most common way to achieve this, although it's not my preferred way, is by using the "data-pin-build" attribute of the script tag to map the function for rendering dynamic buttons.</p>

<p>~~~ <script defer="defer" src="//assets.pinterest.com/js/pinit.js" data-pin-build="parsePins"></script>~~~ ruby</p>

<p>Buttons can now be rendered as follows:</p>

<p>~~~ javascript  // render buttons inside a scoped DOM element
  window.parsePins(pbtn[0]);</p>

<p>// render the whole page
  window.parsePins();
~~~ </p>

<h3 id="method-two">Method two</h3>

<p>An alternative method for people who like to hack in JavaScript, and don't much like including a shit tonne of script tags in the page header can use this script as a starting point (yes it uses JQuery, which can be easily substituted).</p>

<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">Pinterest</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">load</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">getScript</span><span class="p">(</span><span class="s1">'//assets.pinterest.com/js/pinit.js'</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span>
    <span class="p">},</span>

    <span class="c1">// Get the Pinterest instance
</span>    <span class="na">get</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'PIN_'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nb">window</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'object'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span>
         <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// Render Pinterest buttons
</span>    <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">().</span><span class="nx">f</span><span class="p">.</span><span class="nx">render</span><span class="p">.</span><span class="nx">buttonPin</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>

<p>The script can be used like so:</p>

<pre class="highlight javascript"><span class="nx">Pinterest</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Pinterest</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'button-element'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
<span class="p">});</span>
</pre>

<p>Happy Pinterest hacking!</p>
    
      
      <ul class="social-buttons">
        <li>
          <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Dynamically Rendering AJAX Pinterest Buttons" data-url="http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
        </li>
        <li>
          <a href="https://plus.google.com/share?url=http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" class="socialite googleplus-one" data-size="tall" data-href="http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
        </li>
        <li>
          <a href="http://www.facebook.com/sharer.php?u=http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/&amp;t=Dynamically Rendering AJAX Pinterest Buttons" class="socialite facebook-like" data-href="http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
        </li>
        <li>
          <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/&amp;title=Dynamically Rendering AJAX Pinterest Buttons" class="socialite linkedin-share" data-url="http://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
        </li>
      </ul>        
      <div class="meta">
        Posted on <time class="updated" datetime="Mar 16 2014">Mar 16 2014</time> by 
        
          <a rel="author external" href="https://plus.google.com/+KamLow">Kam Low</a>
        . Tagged: api, javascript, pinterest, programming.
      </div>       
      
      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'sourcey'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" rel="nofollow" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>    
    </div>
        
    <!--
    <div style="text-align: center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>  -->
    <!-- Sourcey Small H --><!--
    <ins class="adsbygoogle"
         style="display:inline-block;width:468px;height:60px;margin: 30px auto 15px;"
         data-ad-client="ca-pub-1397369873900370"
         data-ad-slot="8968503286"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    </div>
    -->

    <footer id="footer">
      <p>
        As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on.
      </p>
      <!--
      <p>                     
        Our Kung Fu includes and is not limited to: C++, Ruby, Python, Java, Php, JavaScript, Node.js, ActionScript, HTML, CSS and Photoshop.
      <p>  
       -->      	  
      <p>
      &copy;2014 Sourcey     
      <p>  
    </footer>
      
    <script src="/javascripts/all.js" type="text/javascript"></script>
  </body>
</html>
